(function(A){function e(e){for(var n,i,s=e[0],c=e[1],r=e[2],l=0,u=[];l<s.length;l++)i=s[l],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&u.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(A[n]=c[n]);_&&_(e);while(u.length)u.shift()();return o.push.apply(o,r||[]),t()}function t(){for(var A,e=0;e<o.length;e++){for(var t=o[e],n=!0,s=1;s<t.length;s++){var c=t[s];0!==a[c]&&(n=!1)}n&&(o.splice(e--,1),A=i(i.s=t[0]))}return A}var n={},a={app:0},o=[];function i(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return A[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=A,i.c=n,i.d=function(A,e,t){i.o(A,e)||Object.defineProperty(A,e,{enumerable:!0,get:t})},i.r=function(A){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"__esModule",{value:!0})},i.t=function(A,e){if(1&e&&(A=i(A)),8&e)return A;if(4&e&&"object"===typeof A&&A&&A.__esModule)return A;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:A}),2&e&&"string"!=typeof A)for(var n in A)i.d(t,n,function(e){return A[e]}.bind(null,n));return t},i.n=function(A){var e=A&&A.__esModule?function(){return A["default"]}:function(){return A};return i.d(e,"a",e),e},i.o=function(A,e){return Object.prototype.hasOwnProperty.call(A,e)},i.p="/widget-note/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var r=0;r<s.length;r++)e(s[r]);var _=c;o.push([0,"chunk-vendors"]),t()})({0:function(A,e,t){A.exports=t("56d7")},"04e6":function(A,e){A.exports="data:image/png;base64,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"},"56d7":function(A,e,t){"use strict";t.r(e);t("e260"),t("e6cf"),t("cca6"),t("a79d");var n=t("2b0e"),a=function(){var A=this,e=A.$createElement,n=A._self._c||e;return n("div",{staticStyle:{height:"100%"}},[n("div",{staticClass:"container",staticStyle:{height:"100%"}},[!A.is_oauth&&A.show_form_oauth?n("div",{staticClass:"d-flex justify-content-center align-items-center",staticStyle:{height:"100%"}},[n("button",{staticClass:"btn btn-primary align-self-center",staticStyle:{height:"3rem",width:"6rem"},on:{click:function(e){return A.runOAuth()}}},[A._v(" "+A._s(A.$t("note_run_oath"))+" ")])]):A._e(),A.is_oauth?n("div",{staticStyle:{height:"100%"}},[n("p",{staticClass:"text-center pt-2 m-0",staticStyle:{"font-size":"1rem","font-weight":"600"}},[A._v(" "+A._s(A.$t("note_title"))+" ")]),n("div",{staticClass:"note"},[n("div",A._l(A.list,(function(e,a){return n("div",{key:a},[0==e.edit?n("div",{staticClass:"note__body"},[n("div",{staticClass:"icon d-flex justify-content-between align-items-center"},[n("div",{staticClass:"d-flex align-items-center py-1"},[e.fb_staff_id?n("img",{staticClass:"mx-2 border rounded-circle",attrs:{src:"https://graph.facebook.com/"+e.fb_staff_id+"/picture",alt:""}}):n("img",{staticClass:"mx-2",attrs:{src:t("8de4"),alt:""}}),e.staff_name?n("span",[A._v(A._s(e.staff_name))]):n("span",[A._v(" "+A._s(A.$t("note_customer_title"))+" ")]),A.checkScheduleTime(e.schedule)?n("img",{staticClass:"mx-2",staticStyle:{height:"13px",width:"13px"},attrs:{src:t("e6cd"),title:A.handleTime(e.schedule)}}):A._e()]),n("div"),n("div",{staticClass:"d-flex"},[n("p",{staticClass:"time m-0 text-primary"},[A._v(A._s(A.handleTime(e.createdAt)))]),A.checkScheduleTime(e.schedule)?A._e():n("i",{staticClass:"icon-edit fas fa-pencil-alt pl-2",attrs:{title:"Sửa ghi chú"},on:{click:function(A){e.edit=!0}}}),A.checkScheduleTime(e.schedule)?A._e():n("i",{staticClass:"icon-delete far fa-trash-alt pl-2",attrs:{title:"Xoá ghi chú"},on:{click:function(t){return A.deleteNote(e._id)}}})])]),n("div",{staticClass:"note__content--text",class:{"note__content--schedule":A.checkScheduleTime(e.schedule)}},[A._v(A._s(e.content))])]):n("div",[n("div",{staticClass:"text-right px-3",staticStyle:{cursor:"pointer"},on:{click:function(A){e.edit=!1}}},[A._v(" "+A._s(A.$t("note_cancel_title"))+" ")]),n("div",{attrs:{id:"note__content--input-edit",contenteditable:"plaintext-only","data-text":A.$t("note_update_placeholder")},on:{keyup:function(t){return t.type.indexOf("key")||13===t.keyCode?A.checkKeyCodeUpdate(t,e._id):null}}},[A._v(A._s(e.content))])])])})),0),n("infinite-loading",{ref:"infiniteloading",attrs:{spinner:"bubbles",identifier:A.infiniteId},on:{infinite:A.infiniteHandler}},[0==A.list.length?n("div",{staticClass:"py-4",staticStyle:{"font-size":"1rem"},attrs:{slot:"no-results"},slot:"no-results"},[A._v(" "+A._s(A.$t("note_no_data"))+" ")]):A._e(),n("div",{attrs:{slot:"no-more"},slot:"no-more"},[A._v(" "+A._s(A.$t("note_infinite_end"))+" ")]),n("div",{attrs:{slot:"no-results"},slot:"no-results"})])],1),n("hr"),n("div",{staticClass:"mb-1 d-flex justify-content-center align-items-center"},[n("div",{attrs:{id:"note__content--input-create",contenteditable:"plaintext-only","data-text":A.$t("note_new_title")},on:{keyup:function(e){return e.type.indexOf("key")||13===e.keyCode?A.checkKeyCodeCreate(e):null}}}),n("div",{staticClass:"px-2",attrs:{title:"Đặt Nhắc Hẹn"},on:{click:A.handleShowModal}},[n("img",{staticClass:"note__icon--schedule",attrs:{src:t("04e6"),alt:""}})])])]):A._e()]),A.show_modal?n("div",{staticClass:"modal__note"},[n("div",{staticClass:"modal__content"},[n("div",[n("p",{staticClass:"font-weight-bold"},[A._v(" "+A._s(A.$t("note_lock_modal_title"))+" ")]),n("div",{attrs:{id:"content__schedule--input",contenteditable:"plaintext-only","data-text":A.$t("note_lock_content_placeholder")}}),n("div",{staticClass:"modal__content--btn-time"},[n("p",{staticClass:"mb-1"},[A._v(" "+A._s(A.$t("note_lock_quick_select"))+" ")]),n("div",{staticClass:"d-flex justify-content-around align-items-center"},[n("button",{staticClass:"btn btn-outline-secondary btn-sm",class:{choose__time:"1h"==A.is_choose_time},on:{click:function(e){return A.handleChooseTime("1h")}}},[A._v(A._s(A.$t("note_lock_quick_option_1")))]),n("button",{staticClass:"btn btn-outline-secondary btn-sm",class:{choose__time:"3h"==A.is_choose_time},on:{click:function(e){return A.handleChooseTime("3h")}}},[A._v(A._s(A.$t("note_lock_quick_option_2")))]),n("button",{staticClass:"btn btn-outline-secondary btn-sm",class:{choose__time:"6h"==A.is_choose_time},on:{click:function(e){return A.handleChooseTime("6h")}}},[A._v(A._s(A.$t("note_lock_quick_option_3")))]),n("button",{staticClass:"btn btn-outline-secondary btn-sm",class:{choose__time:"tomorrow"==A.is_choose_time},on:{click:function(e){return A.handleChooseTime("tomorrow")}}},[A._v(A._s(A.$t("note_lock_quick_option_4")))])])]),n("div",{staticClass:"d-flex justify-content-between align-items-center"},[n("p",{staticClass:"mb-0"},[A._v(" "+A._s(A.$t("note_lock_specific_time"))+" ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:A.time_input,expression:"time_input"}],staticClass:"content__schedule--input-time form-control",attrs:{type:"datetime-local",name:"meeting-time",min:A.time_now},domProps:{value:A.time_input},on:{input:function(e){e.target.composing||(A.time_input=e.target.value)}}})]),n("div",{staticClass:"modal__content--btn"},[n("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(e){A.handleHideModal(),A.clearScheduleTime()}}},[A._v(" "+A._s(A.$t("note_modal_cancel"))+" ")]),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:A.createSchedule}},[A._v(" "+A._s(A.$t("note_modal_create"))+" ")])])])])]):A._e()])},o=[],i=(t("99af"),t("4de4"),t("d81d"),t("d3b7"),t("25f0"),t("3ca3"),t("498a"),t("ddb0"),t("2b3d"),t("2909")),s=t("b85c"),c=(t("96cf"),t("1da1")),r=t("bc3a"),_=t.n(r),l={post:function(A,e,t){return new Promise((function(n,a){_.a.post(A,e,{headers:{"Content-Type":"application/json",Authorization:t}}).then((function(A){n(A)})).catch((function(A){a(A.response)}))}))}},u="https://api.xbusiness.vn/v1/bot/note_schedule",d="https://chatbox-app.botbanhang.vn/v1/app/note",h="https://chatbox-app.botbanhang.vn",m=location.href,p=new URL(m),g=p.searchParams.get("access_token"),f={data:function(){return{is_oauth:!1,show_form_oauth:!1,access_token:g,secret_key:"c098f51f09af4fe78283ce83d50cd1ca",content:"",allNote:[],payload:"",fb_page_id:"",fb_client_id:"",current_staff_id:"",current_staff_name:"",handle_api:!1,show_modal:!1,content_schedule:"",schedule_time:"",is_note_schedule:!1,is_create_schedule:!1,choose_time_schedule:"",is_choose_time:"",infinite_loading_num:0,page:1,list:[],infiniteId:+new Date,time_now:"",time_input:"",time_choose:"",test:""}},mounted:function(){this.partnerAuth(),this.infiniteHandler()},created:function(){},methods:{convertTimeStamp:function(){this.time_input&&(this.schedule_time=new Date(this.time_input).getTime())},timeMinSchedule:function(){var A=new Date((new Date).getTime()+252e5).toISOString();this.time_now=A.substring(0,A.length-8),this.time_input=this.time_now},getTimeISONow:function(){return(new Date).toISOString()},convertISOString:function(){if(this.schedule_time){var A=new Date(this.schedule_time).toISOString(),e=A.substring(0,A.length-8);this.time_input=e}},getScheduleTime:function(A){this.schedule_time=A},clearScheduleTime:function(){this.schedule_time="",this.choose_time_schedule="",this.time_input="",this.is_choose_time=""},checkScheduleTime:function(A){if(!A)return!1;var e=new Date(A).getTime(),t=(new Date).getTime();return e>t},checkKeyCodeCreate:function(A){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!A.shiftKey||13!=A.keyCode){t.next=3;break}return t.abrupt("return");case 3:if(!e.handle_api){t.next=5;break}return t.abrupt("return");case 5:return e.handle_api=!0,t.next=8,e.createNote();case 8:e.handle_api=!1,t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0),e.handle_api=!1;case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},checkKeyCodeUpdate:function(A,e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,!A.shiftKey||13!=A.keyCode){n.next=3;break}return n.abrupt("return");case 3:if(!t.handle_api){n.next=5;break}return n.abrupt("return");case 5:return t.handle_api=!0,n.next=8,t.updateNote(e,A.target.innerHTML);case 8:t.handle_api=!1,n.next=15;break;case 11:n.prev=11,n.t0=n["catch"](0),console.log(n.t0),t.handle_api=!1;case 15:case"end":return n.stop()}}),n,null,[[0,11]])})))()},addItemListNote:function(A){A&&(A.edit=!1,this.list.unshift(A))},editItemListNote:function(A,e){A&&e&&this.list.map((function(t){t._id==A&&(t.content=e,t.edit=!1)}))},deleteItemListNote:function(A){A&&(this.list=this.list.filter((function(e){return e._id!=A})))},createSchedule:function(){var A=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,A.schedule_time){e.next=3;break}return e.abrupt("return",A.swalToast(A.$t("note_js_message_1"),"warning"));case 3:if(A.is_create_schedule=!0,t=document.getElementById("content__schedule--input").innerHTML.trim(),t){e.next=7;break}return e.abrupt("return",A.swalToast(A.$t("note_js_message_2"),"warning"));case 7:return A.content_schedule="".concat(A.$t("note_js_message_3")," [").concat(A.handleTimeScheduleToString(A.schedule_time),"] : ").concat(t),A.content="".concat(A.$t("note_js_message_4")," [").concat(A.handleTimeScheduleToString(A.schedule_time),"] : ").concat(t),n={schedule_time:A.schedule_time,fb_page_id:A.fb_page_id,fb_client_id:A.fb_client_id,message_text:A.content_schedule,telegram_id:""},e.next=12,l.post(u,n);case 12:return e.sent,e.next=15,A.createNote();case 15:e.sent,A.swalToast(A.$t("note_js_message_5"),"success"),A.is_create_schedule=!1,A.clearScheduleTime(),A.content_schedule="",A.content="",document.getElementById("content__schedule--input").innerHTML="",A.handleHideModal(),e.next=30;break;case 25:e.prev=25,e.t0=e["catch"](0),console.log(e.t0),A.is_create_schedule=!1,A.swalToast(A.$t("note_js_message_6"),"warning");case 30:case"end":return e.stop()}}),e,null,[[0,25]])})))()},createNote:function(){var A=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,A.is_create_schedule||(A.content=document.getElementById("note__content--input-create").innerHTML.trim()),A.content){e.next=4;break}return e.abrupt("return");case 4:return t={content:A.content,fb_page_id:A.fb_page_id,fb_client_id:A.fb_client_id,fb_staff_id:A.current_staff_id,staff_name:A.current_staff_name,schedule:A.schedule_time},A.schedule_time||delete t.schedule,e.next=8,l.post(d+"/create",t);case 8:n=e.sent,n&&n.data&&n.data.data&&200==n.data.code&&(a=n.data.data.note,A.addItemListNote(a),A.swalToast(A.$t("note_js_message_7"),"success"),A.content="",A.clearScheduleTime(),document.getElementById("note__content--input-create").innerHTML=""),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](0),console.log(e.t0),A.swalToast(A.$t("note_js_message_8"),"warning");case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))()},deleteNote:function(A){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.post(d+"/delete",{_id:A});case 3:t.sent,e.deleteItemListNote(A),e.swalToast(e.$t("note_js_message_9"),"success"),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0),e.swalToast(e.$t("note_js_message_10"),"warning");case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()},updateNote:function(A,e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,e=e.trim(),e){n.next=4;break}return n.abrupt("return");case 4:return a={_id:A,content:e},n.next=7,l.post(d+"/update",a);case 7:n.sent,t.editItemListNote(A,e),t.swalToast(t.$t("note_js_message_11"),"success"),n.next=16;break;case 12:n.prev=12,n.t0=n["catch"](0),console.log(n.t0),t.swalToast(t.$t("note_js_message_12"),"warning");case 16:case"end":return n.stop()}}),n,null,[[0,12]])})))()},handleChooseTime:function(A){if("1h"==A&&(this.schedule_time=(new Date).getTime()+36e5+252e5),"3h"==A&&(this.schedule_time=(new Date).getTime()+108e5+252e5),"6h"==A&&(this.schedule_time=(new Date).getTime()+216e5+252e5),"tomorrow"==A){var e=new Date;e.setDate(e.getDate()+1);var t=e.getDate(),n=e.getMonth()+1,a=e.getFullYear(),o="".concat(a,"-").concat(n,"-").concat(t," 9:0");this.schedule_time=new Date(o).getTime()+252e5}this.convertISOString(),this.is_choose_time=A},handleShowModal:function(){this.show_modal=!0,this.timeMinSchedule()},handleHideModal:function(){this.show_modal=!1},handleTimeScheduleToString:function(A){if(A){var e=new Date(A),t=e.getDate(),n=e.getMonth(),a=e.getFullYear(),o=e.getHours(),i=e.getMinutes();return 1==i.toString().length&&(i="0"+i.toString()),"".concat(o,":").concat(i," - ").concat(t,"/").concat(n+1,"/").concat(a)}},handleTime:function(A){var e=new Date(A),t=e.getDate(),n=e.getMonth(),a=e.getFullYear(),o=e.getHours(),i=e.getMinutes();1==i.toString().length&&(i="0"+i.toString());var s=new Date;s.setDate(s.getDate()-1);var c=s.getDate(),r=s.getMonth(),_=s.getFullYear(),l=new Date,u=l.getDate(),d=l.getMonth(),h=l.getFullYear(),m=new Date;m.setDate(m.getDate()+1);var p=m.getDate(),g=m.getMonth(),f=m.getFullYear();return c==t&&r==n&&_==a?"".concat(o,":").concat(i," ").concat(this.$t("note_js_message_14")):u==t&&d==n&&h==a?"".concat(o,":").concat(i," ").concat(this.$t("note_js_message_15")):p==t&&g==n&&f==a?"".concat(o,":").concat(i," ").concat(this.$t("note_js_message_16")):"".concat(o,":").concat(i," ").concat(t," ").concat(this.$t("note_js_message_17")," ").concat(n+1)},infiniteHandler:function(A){var e=this;try{this.infinite_loading_num++,console.log("this.infinite_loading_num",this.infinite_loading_num),setTimeout(Object(c["a"])(regeneratorRuntime.mark((function t(){var n,a,o,c,r,_,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={fb_page_id:e.fb_page_id,fb_client_id:e.fb_client_id,skip:5*(e.page-1),limit:5},t.next=3,l.post(d+"/read",n);case 3:if(a=t.sent,a&&a.data&&a.data.data&&a.data.data.note){o=a.data.data.note,c=Object(s["a"])(o);try{for(c.s();!(r=c.n()).done;)_=r.value,_.edit=!1}catch(h){c.e(h)}finally{c.f()}o.length?(e.page+=1,(u=e.list).push.apply(u,Object(i["a"])(o)),A.loaded()):A.complete()}case 5:case"end":return t.stop()}}),t)}))),500)}catch(t){console.log(t)}},handleReloading:function(){var A=this;setTimeout((function(){0==A.infinite_loading_num&&A.infiniteHandler()}),5e3)},resetInfinite:function(){this.page=1,this.list=[],this.infiniteId+=1},swalToast:function(A,e){var t=Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:800,timerProgressBar:!1,onOpen:function(A){A.addEventListener("mouseenter",Swal.stopTimer),A.addEventListener("mouseleave",Swal.resumeTimer)}});t.fire({icon:e,title:A,padding:"5px"})},runOAuth:function(){var A=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t={_type:"oauth-access-token",access_token:A.access_token,token_partner:"active"},e.next=4,l.post("".concat(h,"/v1/app/app-installed/update"),t);case 4:e.sent,A.is_oauth=!0,A.show_form_oauth=!1,window.close(),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},partnerAuth:function(){var A=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t={access_token:A.access_token,secret_key:A.secret_key},e.next=4,l.post("".concat(h,"/v1/service/partner-authenticate"),t);case 4:n=e.sent,n&&n.data&&n.data.data&&n.data.succes&&200==n.data.code&&n.data.data.public_profile&&(A.is_oauth=!0,A.fb_page_id=n.data.data.public_profile.fb_page_id,A.fb_client_id=n.data.data.public_profile.fb_client_id,A.current_staff_id=n.data.data.public_profile.current_staff_id,A.current_staff_name=n.data.data.public_profile.current_staff_name),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),A.show_form_oauth=!0,console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()}},watch:{time_input:function(){this.convertTimeStamp()}}},b=f,v=(t("f3dc"),t("2877")),k=Object(v["a"])(b,a,o,!1,null,"621389a7",null),w=k.exports,j=t("e166"),x=t.n(j),y=(t("dcf2"),t("4d63"),t("ac1f"),t("5319"),t("a925")),C={note_run_oath:"Kích hoạt",note_title:"Ghi chú",note_customer_title:"Nhân Viên",note_update_title:"Sửa ghi chú",note_delete_title:"Xóa ghi chú",note_cancel_title:"Cancel",note_update_placeholder:"Sửa nội dung, Ấn Enter để lưu, Shift+Enter để xuống dòng ...",note_no_data:"Bạn chưa tạo ghi chú!",note_infinite_end:"No more Notes",note_new_title:"Nhập nội dung, Ấn Enter để lưu ...",note_lock_title:"Đặt Nhắc Hẹn",note_lock_modal_title:"Nhắc hẹn",note_lock_content_placeholder:"Nhập nội dung nhắc hẹn",note_lock_quick_select:"Chọn nhanh",note_lock_quick_option_1:"1h nữa",note_lock_quick_option_2:"3h nữa",note_lock_quick_option_3:"6h nữa",note_lock_quick_option_4:"9h mai",note_lock_specific_time:"Thời gian nhắc",note_modal_cancel:"Hủy",note_modal_create:"Tạo nhắc hẹn",note_js_message_1:"Chưa thiêt lập thời gian nhắc hẹn",note_js_message_2:"Chưa nhập nội dung cuộc hẹn",note_js_message_3:"Nhắc hẹn",note_js_message_4:"Lịch hẹn",note_js_message_5:"Đặt nhắc hẹn thành công",note_js_message_6:"Đặt nhắc hẹn thất bại, vui lòng thử lại sau",note_js_message_7:"Đã thêm",note_js_message_8:"Thêm thất bại",note_js_message_9:"Đã xoá",note_js_message_10:"Xoá thất bại",note_js_message_11:"Đã sửa",note_js_message_12:"Sửa thất bại",note_js_message_13:"tomorrow",note_js_message_14:"Hôm qua",note_js_message_15:"Hôm nay",note_js_message_16:"Ngày mai",note_js_message_17:"Tháng"},S={note_run_oath:"Activate",note_title:"Note",note_customer_title:"Staff",note_update_title:"Edit note",note_delete_title:"Delete note",note_cancel_title:"Cancel",note_update_placeholder:"Edit the content, Press Enter to save, Shift+Enter to break the line...",note_no_data:"You have not created a note yet!",note_infinite_end:"No more Notes",note_new_title:"Insert content, then press Enter to save ...",note_lock_title:"Set reminder",note_lock_modal_title:"Appointment reminder",note_lock_content_placeholder:"Insert appointment reminder text",note_lock_quick_select:"Quick selection",note_lock_quick_option_1:"1 hour",note_lock_quick_option_2:"3 hours",note_lock_quick_option_3:"6 hours",note_lock_quick_option_4:"9 hours",note_lock_specific_time:"Reminder time",note_modal_cancel:"Cancel",note_modal_create:"Create reminder",note_js_message_1:"No appointment time has been set",note_js_message_2:"You have not inserted the appointment text",note_js_message_3:"Appointment reminder",note_js_message_4:"Appointment schedule",note_js_message_5:"Appointment reminder has been created successfully",note_js_message_6:"Appointment reminder setup fail, please try again",note_js_message_7:"Added",note_js_message_8:"Fail to add more",note_js_message_9:"Deleted",note_js_message_10:"Fail to delete",note_js_message_11:"Edited",note_js_message_12:"Fail to edit",note_js_message_13:"Tomorrow",note_js_message_14:"Yesterday",note_js_message_15:"Today",note_js_message_16:"Tomorrow",note_js_message_17:"Month"},T={note_run_oath:"เปิดใช้งาน",note_title:"บันทึก",note_customer_title:"พนักงาน",note_update_title:"แก้ไขบันทึก",note_delete_title:"ลบโน้ต",note_cancel_title:"ยกเลิก",note_update_placeholder:"แก้ไขเนื้อหา กด Enter เพื่อบันทึก Shift+Enter เพื่อแยกบรรทัด...",note_no_data:"คุณยังไม่ได้สร้างบันทึกย่อ!",note_infinite_end:"ไม่มีโน้ตอีกต่อไป",note_new_title:"ใส่เนื้อหา กด Enter เพื่อบันทึก...",note_lock_title:"ตั้งค่าการแจ้งเตือนการนัดหมาย",note_lock_modal_title:"การแจ้งเตือนการนัดหมาย",note_lock_content_placeholder:"ใส่ข้อความเตือนการนัดหมาย",note_lock_quick_select:"เลือกด่วน",note_lock_quick_option_1:"1 ชั่วโมง",note_lock_quick_option_2:"3 ชั่วโมง",note_lock_quick_option_3:"6 ชั่วโมง",note_lock_quick_option_4:"9 ชั่วโมง",note_lock_specific_time:"เวลาเตือนความจำ",note_modal_cancel:"ยกเลิก",note_modal_create:"สร้างการแจ้งเตือนการนัดหมาย",note_js_message_1:"ไม่ได้กำหนดเวลานัดหมายไว้",note_js_message_2:"ไม่ได้เข้าสู่เนื้อหาการนัดหมาย",note_js_message_3:"การแจ้งเตือนการนัดหมาย",note_js_message_4:"ตารางนัดหมาย",note_js_message_5:"สร้างการแจ้งเตือนการนัดหมายเรียบร้อยแล้ว",note_js_message_6:"การตั้งค่าตัวเตือนการนัดหมายล้มเหลว โปรดลองอีกครั้ง",note_js_message_7:"เพิ่ม",note_js_message_8:"ไม่สามารถเพิ่มได้อีก",note_js_message_9:"ถูกลบ",note_js_message_10:"ลบไม่สำเร็จ",note_js_message_11:"แก้ไขแล้ว",note_js_message_12:"แก้ไขไม่สำเร็จ",note_js_message_13:"พรุ่งนี้",note_js_message_14:"เมื่อวาน",note_js_message_15:"วันนี้",note_js_message_16:"พรุ่งนี้",note_js_message_17:"เดือน"};function q(A){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href;A=A.replace(/[\[\]]/g,"\\$&");var t=new RegExp("[?&]"+A+"(=([^&#]*)|&|#|$)"),n=t.exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function U(){return q("locale")||"vi"}n["a"].use(y["a"]);var Q=new y["a"]({locale:U(),messages:{vi:C,en:S,th:T},fallbackLocale:"en"});n["a"].config.productionTip=!1,n["a"].use(x.a,{}),new n["a"]({i18n:Q,render:function(A){return A(w)}}).$mount("#app")},"8de4":function(A,e,t){A.exports=t.p+"img/user.3e97d523.png"},dcf2:function(A,e,t){},dd3e:function(A,e,t){},e6cd:function(A,e){A.exports="data:image/png;base64,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"},f3dc:function(A,e,t){"use strict";var n=t("dd3e"),a=t.n(n);a.a}});
//# sourceMappingURL=app.46a7a0e6.js.map